{"ast":null,"code":"import{useState}from\"react\";import{createElement}from\"react\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function Square(_ref){let{value,onSquareClick}=_ref;return/*#__PURE__*/_jsx(\"button\",{className:\"square\",onClick:onSquareClick,children:value});}function Board(_ref2){let{xIsNext,setXisNext,squares,onPlay}=_ref2;const winner=determineWinner(squares);const nextPlayer=winner?\"Winner: \".concat(winner):xIsNext===null?'Tie':xIsNext===true?'Next player: X':'Next player: O';function CreateSquares(_ref3){let{iter}=_ref3;const divSquares=[];for(let i=0;i<3;i++){divSquares.push(/*#__PURE__*/_jsx(Square,{value:squares[iter*3+i],onSquareClick:()=>handleClick(iter*3+i)}));}return divSquares;}function GameDivs(){const gSquares=[];for(let j=0;j<3;j++){gSquares.push(/*#__PURE__*/_jsx(\"div\",{className:\"board-row\",children:/*#__PURE__*/_jsx(CreateSquares,{iter:j})}));}return gSquares;}function GameDivsCreateElement(){let i=0;const divs=[];while(i<3){const innerDivs=[];for(let j=0;j<3;j++){innerDivs.push(/*#__PURE__*/_jsx(Square,{value:squares[i*3+j],onSquareClick:()=>handleClick(i*3+j)}));}divs.push(/*#__PURE__*/_jsx(\"div\",{className:\"board-row\",children:innerDivs}));i++;}return divs;}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"turn\",children:nextPlayer}),/*#__PURE__*/_jsx(GameDivs,{})]});function handleClick(i){if(squares[i]||determineWinner(squares)||nextPlayer==='Tie'){return;}const nextSquares=squares.slice();if(xIsNext){nextSquares[i]='X';}else{nextSquares[i]='O';}onPlay(nextSquares);}function determineWinner(squares){const lines=[[0,1,2],[3,4,5],[6,7,8],[0,4,8],[2,4,6],[0,3,6],[1,4,7],[2,5,8]];let lastMove=false;for(let i in lines){const[a,b,c]=lines[i];if(squares[a]&&squares[b]&&squares[c]){lastMove=true;}else{lastMove=false;}if(squares[a]&&squares[a]===squares[b]&&squares[a]===squares[c]){setXisNext(null);//ColorizeSquares()\nreturn squares[a];//return the sign of the winner\n}}if(lastMove===true){setXisNext(null);}return null;}}export default function Game(){const[history,setHistory]=useState([Array(9).fill(null)]);const[xIsNext,setXisNext]=useState(true);const[currentMove,setCurrentMove]=useState(0);const currentSquares=history[currentMove];const moves=history.map((squares,move)=>{let description='';if(move>0){description=\"Go to move \".concat(move);}else if(move===currentMove){description=\"You are at move \".concat(move);}else{description='Go to game start';}const ListItem=()=>{if(move===currentMove&&xIsNext===null){return/*#__PURE__*/createElement('p',{className:'finalMove'},'No more moves');}else if(move===currentMove){return/*#__PURE__*/createElement('p',null,\"You are at move \".concat(currentMove));}else{return/*#__PURE__*/createElement('button',{onClick:()=>jumpTo(move)},description);}};return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(ListItem,{})},move);});return/*#__PURE__*/_jsxs(\"div\",{className:\"game\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"game-board\",children:/*#__PURE__*/_jsx(Board,{xIsNext:xIsNext,setXisNext:setXisNext,squares:currentSquares,onPlay:handlePlay// winningSquares={colorizeSquares}\n})}),/*#__PURE__*/_jsx(\"div\",{className:\"game-info\",children:/*#__PURE__*/_jsx(\"ol\",{className:\"moveList\",children:moves})}),/*#__PURE__*/_jsx(\"div\",{className:\"newGame\",children:/*#__PURE__*/_jsx(\"button\",{onClick:newGame,children:\"New game\"})})]});function handlePlay(nextSquares){const nextHistory=[...history.slice(0,currentMove+1),nextSquares];setHistory(nextHistory);setCurrentMove(nextHistory.length-1);setXisNext(!xIsNext);}function jumpTo(nextMove){setCurrentMove(nextMove);setXisNext(nextMove%2===0);}function newGame(){let oList=document.getElementsByTagName('div .game-info');oList.innerHTML='You are at move 0';//BAD; against the ideas of react. Don't use js dom manipulation\n}}// style={{color: 'red'}} jsx syntax","map":{"version":3,"names":["useState","createElement","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Square","_ref","value","onSquareClick","className","onClick","children","Board","_ref2","xIsNext","setXisNext","squares","onPlay","winner","determineWinner","nextPlayer","concat","CreateSquares","_ref3","iter","divSquares","i","push","handleClick","GameDivs","gSquares","j","GameDivsCreateElement","divs","innerDivs","nextSquares","slice","lines","lastMove","a","b","c","Game","history","setHistory","Array","fill","currentMove","setCurrentMove","currentSquares","moves","map","move","description","ListItem","jumpTo","handlePlay","newGame","nextHistory","length","nextMove","oList","document","getElementsByTagName","innerHTML"],"sources":["/home/mitch/ReactTicTacToe/src/app.js"],"sourcesContent":["import { useState } from \"react\"\nimport { createElement } from \"react\"\n\nfunction Square({value, onSquareClick}){\n    return (\n            <button className=\"square\" onClick={onSquareClick}>{value}</button>\n    )\n}\nfunction Board({xIsNext, setXisNext, squares, onPlay}){\n    \n    const winner = determineWinner(squares)\n    \n    const nextPlayer = winner ? `Winner: ${winner}` : xIsNext === null ?\n            'Tie' : xIsNext === true ? 'Next player: X' : 'Next player: O' \n    \n    function CreateSquares({iter}){        \n        const divSquares = []\n        for(let i = 0; i < 3; i++){\n            divSquares.push(<Square value={squares[iter * 3 + i]} onSquareClick={()=>handleClick(iter * 3 + i)}/>)\n        }\n        return divSquares\n    }\n    \n    function GameDivs(){\n        const gSquares = []\n        for(let j = 0; j < 3; j++){\n            gSquares.push(\n                <div className=\"board-row\">\n                    <CreateSquares iter={j}/>\n                </div>\n            )\n        }\n        return (gSquares)\n    }\n\n    function GameDivsCreateElement(){\n        let i = 0\n        const divs = []\n        while(i < 3){\n            const innerDivs = []\n            for(let j = 0; j < 3; j ++){\n                innerDivs.push(\n                    <Square value={squares[i * 3 + j]} onSquareClick={()=>handleClick(i * 3 + j)}/> \n                )\n            }\n            divs.push(\n                <div className=\"board-row\">\n                    {innerDivs}\n                </div>\n            )\n            i++\n        }\n        return divs\n    }\n\n    return (\n        <>\n        <div className=\"turn\">{nextPlayer}</div>\n          <GameDivs/>\n        </>\n    )\n\n    function handleClick(i){\n        if(squares[i] || determineWinner(squares) || nextPlayer === 'Tie'){\n            \n            return\n        } \n        const nextSquares = squares.slice()\n        if(xIsNext){\n            nextSquares[i] = 'X'\n        }\n        else{\n            nextSquares[i] = 'O'\n        }\n        onPlay(nextSquares)\n    }\n\n    function determineWinner(squares){\n        const lines = [\n            [0,1,2],\n            [3,4,5],\n            [6,7,8],\n            [0,4,8],\n            [2,4,6],\n            [0,3,6],\n            [1,4,7],\n            [2,5,8]\n        ]\n        let lastMove = false\n        for(let i in lines){\n            const [a,b,c] = lines[i]\n            if(squares[a] && squares[b] && squares[c]){\n                lastMove = true\n            }else{\n                lastMove = false\n            }\n\n            if(squares[a] && squares[a] === squares[b] && squares[a] === squares[c]){\n                setXisNext(null)\n                //ColorizeSquares()\n                return squares[a]//return the sign of the winner\n            }\n        }\n\n        if(lastMove === true){\n            setXisNext(null)\n        }\n\n        return null\n    }\n}\n\nexport default function Game(){\n    const [history, setHistory] = useState([Array(9).fill(null)])\n    const [xIsNext, setXisNext] = useState(true)\n    const [currentMove, setCurrentMove] = useState(0)\n    const currentSquares = history[currentMove]\n    \n    const moves = history.map((squares,move)=>{\n        let description = ''\n\n        if(move > 0){\n            description = `Go to move ${move}`\n        }else if(move === currentMove){\n            description = `You are at move ${move}`\n        }\n        else{\n            description = 'Go to game start'\n        }\n        \n        const ListItem = ()=>{ \n                        if(move === currentMove && xIsNext === null){\n                            return createElement('p', {className:'finalMove'}, 'No more moves')\n                        }\n                        else if(move === currentMove){\n                            return createElement('p',null,`You are at move ${currentMove}`)\n                        }\n                        else{\n                           return createElement('button',{onClick:()=>jumpTo(move)},description)\n                        }\n                    }\n\n        return(\n            <li key={move}>\n                <ListItem/>\n            </li>\n        )\n    })\n\n    return(\n        <div className=\"game\">\n            <div className=\"game-board\">\n                <Board \n                    xIsNext={xIsNext} setXisNext={setXisNext} \n                    squares={currentSquares} onPlay={handlePlay}\n                    // winningSquares={colorizeSquares}\n                    />\n            </div>\n            <div className=\"game-info\">\n                <ol className=\"moveList\">{moves}</ol>\n            </div>\n            <div className=\"newGame\">\n                <button onClick={newGame}>New game</button>\n            </div>\n        </div>\n    )\n\n    function handlePlay(nextSquares){\n        const nextHistory = [...history.slice(0,currentMove + 1),nextSquares]\n        setHistory(nextHistory)\n        setCurrentMove(nextHistory.length - 1)\n        setXisNext(!xIsNext)    \n    }\n    \n    function jumpTo(nextMove){\n        setCurrentMove(nextMove)\n        setXisNext(nextMove % 2 === 0)\n    }\n\n    function newGame(){\n        let oList = document.getElementsByTagName('div .game-info')\n        oList.innerHTML = 'You are at move 0'//BAD; against the ideas of react. Don't use js dom manipulation\n        \n    }\n}\n\n// style={{color: 'red'}} jsx syntax"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}